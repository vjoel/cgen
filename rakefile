begin
  require 'bones'
rescue LoadError
  abort '### please install the bones gem ###'
end

ensure_in_path 'lib'
require 'cgen/cgen'

Bones {
  name            'cgen'
  authors         'Joel VanderWerf'
  email           'vjoel@users.sourceforge.net'
  url             'http://rubyforge.org/projects/cgen'
  rubyforge.name  'cgen'
  version         CGenerator::VERSION
  readme_file     'README.txt'
  
  summary         'Library for packed binary data stored in ruby Strings'
  description <<END
Framework for dynamically generating and loading C extensions from Ruby
programs. Includes CShadow module for defining classes in terms of C structs
with accessors and inheritance.
END

  changes         File.read(history_file)[/^\w.*?(?=^\w)/m]
  (rdoc.dir       File.readlink(rdoc.dir)) rescue nil

  spec.opts << '--color'
  test.files = Dir["test/test-*.rb"]
}

task :release => ["rubyforge:release", "rubyforge:doc_release"]

# EOF
 
